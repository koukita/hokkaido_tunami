<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Add a vector tile source</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <script src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css" rel="stylesheet" />
    <style>
      body { margin: 0; padding: 0; }
      #map { position: absolute; top: 0; bottom: 0; width: 100%; }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
        var map = new maplibregl.Map({
            container: 'map', // container id
            //地理院地図の表示
            //参考にしたサイト（https://day-journal.com/memo/maplibregljs-005/）
            style: {
                version: 8,
                glyphs: "https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf", //日本語ラベルを表示する際に必要
                sources: {
                    t_pale: {
                        type: 'raster',
                        tiles: ['https://cyberjapandata.gsi.go.jp/xyz/pale/{z}/{x}/{y}.png'],
                        tileSize: 256,
                        attribution:
                            '<a href="http://www.gsi.go.jp/kikakuchousei/kikakuchousei40182.html" target="_blank">地理院タイル</a>',
                    },
                },
                layers: [
                    {
                        id: 't_pale',
                        type: 'raster',
                        source: 't_pale',
                        minzoom: 0,
                        maxzoom: 18,
                    },
                ],
            },        
            center: [139.949341, 39.724089], // starting position [lng, lat]
            zoom: 10, // starting zoom
        });
      
      map.on('load', function () {
        map.addSource('contours', {
            type: 'vector',
            tiles:
              ['https://koukita.github.io/hokkaido_tunami/akitaken_vectortile/{z}/{x}/{y}.pbf'],
            minzoom:10,
            maxzoom:14,
            attribution:"<a href=\"https://maps.gsi.go.jp/vector/\" target=\"_blank\">地理院地図Vector（仮称）</a>"
        });
        map.addLayer({
          'id': 'tunami_fill',
          'type': 'fill',
          'source': 'contours',
          'source-layer': '最大浸水深',
          'paint': {
            'fill-color': '#E92D63',
            'fill-opacity': 0.7,
          }
        });
      });
    </script>
  
  </body>
</html>